<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bakabakaband: C:/Users/deskull/Documents/bakabakaband/src/cmd-item/cmd-magiceat.cpp ファイル</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="BakabakabandTitle.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bakabakaband
   &#160;<span id="projectnumber">0.0.0Alpha3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'検索','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','検索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_1feb516edb48b9003f77be11a320817a.html">cmd-item</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">関数</a>  </div>
  <div class="headertitle">
<div class="title">cmd-magiceat.cpp ファイル</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="cmd-magiceat_8h_source.html">cmd-item/cmd-magiceat.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="action-limited_8h_source.html">action/action-limited.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cmd-usestaff_8h_source.html">cmd-item/cmd-usestaff.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cmd-zaprod_8h_source.html">cmd-item/cmd-zaprod.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cmd-zapwand_8h_source.html">cmd-item/cmd-zapwand.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="asking-player_8h_source.html">core/asking-player.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="disturbance-options_8h_source.html">game-option/disturbance-options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="text-display-options_8h_source.html">game-option/text-display-options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="command-repeater_8h_source.html">io/command-repeater.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="input-key-acceptor_8h_source.html">io/input-key-acceptor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="input-key-requester_8h_source.html">io/input-key-requester.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sound-definitions-table_8h_source.html">main/sound-definitions-table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sound-of-music_8h_source.html">main/sound-of-music.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="object-kind-hook_8h_source.html">object/object-kind-hook.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="object-kind_8h_source.html">object/object-kind.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sv-other-types_8h_source.html">sv-definition/sv-other-types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sv-rod-types_8h_source.html">sv-definition/sv-rod-types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="avatar_8h_source.html">player-info/avatar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="player-class_8h_source.html">player/player-class.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="player-status_8h_source.html">player/player-status.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="player-status-table_8h_source.html">player/player-status-table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="spell-info_8h_source.html">spell/spell-info.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="target-getter_8h_source.html">target/target-getter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="screen-processor_8h_source.html">term/screen-processor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="term-color-types_8h_source.html">term/term-color-types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buffer-shaper_8h_source.html">util/buffer-shaper.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="int-char-converter_8h_source.html">util/int-char-converter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="display-messages_8h_source.html">view/display-messages.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
cmd-magiceat.cpp の依存先関係図:</div>
<div class="dyncontent">
<div class="center"><img src="cmd-magiceat_8cpp__incl.png" border="0" usemap="#a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2cmd-item_2cmd-magiceat_8cpp" alt=""/></div>
<map name="a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2cmd-item_2cmd-magiceat_8cpp" id="a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2cmd-item_2cmd-magiceat_8cpp">
<area shape="rect" title=" " alt="" coords="1897,5,2087,61"/>
<area shape="rect" href="cmd-magiceat_8h.html" title=" " alt="" coords="5,206,179,233"/>
<area shape="rect" href="player-status_8h.html" title=" " alt="" coords="2741,363,2888,389"/>
<area shape="rect" href="action-limited_8h.html" title=" " alt="" coords="916,117,1065,143"/>
<area shape="rect" href="cmd-usestaff_8h.html" title=" " alt="" coords="1089,117,1255,143"/>
<area shape="rect" href="cmd-zaprod_8h.html" title=" " alt="" coords="1279,117,1438,143"/>
<area shape="rect" href="cmd-zapwand_8h.html" title=" " alt="" coords="1463,117,1633,143"/>
<area shape="rect" href="asking-player_8h.html" title=" " alt="" coords="1657,117,1796,143"/>
<area shape="rect" href="disturbance-options_8h.html" title=" " alt="" coords="2003,109,2167,151"/>
<area shape="rect" href="text-display-options_8h.html" title=" " alt="" coords="2191,109,2355,151"/>
<area shape="rect" href="command-repeater_8h.html" title=" " alt="" coords="1925,206,2080,233"/>
<area shape="rect" href="input-key-acceptor_8h.html" title=" " alt="" coords="2104,206,2259,233"/>
<area shape="rect" href="input-key-requester_8h.html" title=" " alt="" coords="1821,117,1979,143"/>
<area shape="rect" href="sound-definitions-table_8h.html" title=" " alt="" coords="3181,109,3331,151"/>
<area shape="rect" href="sound-of-music_8h.html" title=" " alt="" coords="2533,117,2686,143"/>
<area shape="rect" href="object-kind-hook_8h.html" title=" " alt="" coords="2334,199,2458,240"/>
<area shape="rect" href="object-kind_8h.html" title=" " alt="" coords="2710,117,2845,143"/>
<area shape="rect" href="sv-other-types_8h.html" title=" " alt="" coords="3356,109,3495,151"/>
<area shape="rect" href="sv-rod-types_8h.html" title=" " alt="" coords="3519,109,3646,151"/>
<area shape="rect" href="avatar_8h.html" title=" " alt="" coords="203,206,333,233"/>
<area shape="rect" href="player-class_8h.html" title=" " alt="" coords="2962,117,3105,143"/>
<area shape="rect" href="player-status-table_8h.html" title=" " alt="" coords="357,199,493,240"/>
<area shape="rect" href="spell-info_8h.html" title=" " alt="" coords="517,206,632,233"/>
<area shape="rect" href="target-getter_8h.html" title=" " alt="" coords="657,206,797,233"/>
<area shape="rect" href="screen-processor_8h.html" title=" " alt="" coords="821,206,984,233"/>
<area shape="rect" href="term-color-types_8h.html" title=" " alt="" coords="3671,117,3828,143"/>
<area shape="rect" href="buffer-shaper_8h.html" title=" " alt="" coords="1008,206,1136,233"/>
<area shape="rect" href="int-char-converter_8h.html" title=" " alt="" coords="3853,117,4006,143"/>
<area shape="rect" href="display-messages_8h.html" title=" " alt="" coords="1161,206,1327,233"/>
<area shape="rect" href="angband_8h.html" title="Angband(馬鹿馬鹿蛮怒)メインヘッダファイル Main &quot;Angband&quot; header file" alt="" coords="1613,288,1742,315"/>
<area shape="rect" href="z-util_8h.html" title=" " alt="" coords="1864,363,1955,389"/>
<area shape="rect" href="z-virt_8h.html" title=" " alt="" coords="1979,363,2069,389"/>
<area shape="rect" href="z-form_8h.html" title=" " alt="" coords="2093,363,2192,389"/>
<area shape="rect" href="z-rand_8h.html" title=" " alt="" coords="1252,363,1351,389"/>
<area shape="rect" href="z-term_8h.html" title=" " alt="" coords="1375,363,1475,389"/>
<area shape="rect" href="language-switcher_8h.html" title=" " alt="" coords="1499,363,1674,389"/>
<area shape="rect" href="gamevalue_8h.html" title=" " alt="" coords="1699,363,1840,389"/>
<area shape="rect" href="player-classes-types_8h.html" title=" " alt="" coords="3089,437,3234,479"/>
<area shape="rect" href="flag-group_8h.html" title=" " alt="" coords="2703,445,2814,471"/>
<area shape="rect" href="keymap-directory-getter_8h.html" title=" " alt="" coords="1606,199,1749,240"/>
<area shape="rect" title=" " alt="" coords="2893,206,2949,233"/>
<area shape="rect" href="tval-types_8h.html" title=" " alt="" coords="2537,288,2663,315"/>
<area shape="rect" href="trg-types_8h.html" title=" " alt="" coords="2742,199,2869,240"/>
<area shape="rect" href="object-type-definition_8h.html" title=" " alt="" coords="2533,199,2667,240"/>
<area shape="rect" title=" " alt="" coords="2974,206,3029,233"/>
<area shape="rect" href="realm-types_8h.html" title=" " alt="" coords="3166,288,3303,315"/>
<area shape="rect" href="technic-info-table_8h.html" title=" " alt="" coords="3155,199,3274,240"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
関数</h2></td></tr>
<tr class="memitem:a91c575b4ac80c9d0058cf329b943d063"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="h-type_8h.html#ad52e4f96ca473e40e3be6db6f73a13d4">OBJECT_SUBTYPE_VALUE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cmd-magiceat_8cpp.html#a91c575b4ac80c9d0058cf329b943d063">select_magic_eater</a> (<a class="el" href="structplayer__type.html">player_type</a> *creature_ptr, <a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a> only_browse)</td></tr>
<tr class="memdesc:a91c575b4ac80c9d0058cf329b943d063"><td class="mdescLeft">&#160;</td><td class="mdescRight">プレイヤーのアイテムに関するコマンドの実装2 / Spell/Prayer commands  <a href="cmd-magiceat_8cpp.html#a91c575b4ac80c9d0058cf329b943d063">[詳解]</a><br /></td></tr>
<tr class="separator:a91c575b4ac80c9d0058cf329b943d063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd59184a979a8d34f868767874534ce8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cmd-magiceat_8cpp.html#acd59184a979a8d34f868767874534ce8">do_cmd_magic_eater</a> (<a class="el" href="structplayer__type.html">player_type</a> *creature_ptr, <a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a> only_browse, <a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a> powerful)</td></tr>
<tr class="memdesc:acd59184a979a8d34f868767874534ce8"><td class="mdescLeft">&#160;</td><td class="mdescRight">取り込んだ魔力を利用するコマンドのメインルーチン / Use eaten rod, wand or staff  <a href="cmd-magiceat_8cpp.html#acd59184a979a8d34f868767874534ce8">[詳解]</a><br /></td></tr>
<tr class="separator:acd59184a979a8d34f868767874534ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">関数詳解</h2>
<a id="acd59184a979a8d34f868767874534ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd59184a979a8d34f868767874534ce8">&#9670;&nbsp;</a></span>do_cmd_magic_eater()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a> do_cmd_magic_eater </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structplayer__type.html">player_type</a> *&#160;</td>
          <td class="paramname"><em>creature_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a>&#160;</td>
          <td class="paramname"><em>only_browse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a>&#160;</td>
          <td class="paramname"><em>powerful</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>取り込んだ魔力を利用するコマンドのメインルーチン / Use eaten rod, wand or staff </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">only_browse</td><td>閲覧するだけならばTRUE </td></tr>
    <tr><td class="paramname">powerful</td><td>強力発動中の処理ならばTRUE </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>戻り値</dt><dd>実際にコマンドを実行したならばTRUEを返す。 </dd></dl>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><img src="cmd-magiceat_8cpp_acd59184a979a8d34f868767874534ce8_cgraph.png" border="0" usemap="#acmd-magiceat_8cpp_acd59184a979a8d34f868767874534ce8_cgraph" alt=""/></div>
<map name="acmd-magiceat_8cpp_acd59184a979a8d34f868767874534ce8_cgraph" id="acmd-magiceat_8cpp_acd59184a979a8d34f868767874534ce8_cgraph">
<area shape="rect" title="取り込んだ魔力を利用するコマンドのメインルーチン / Use eaten rod, wand or staff" alt="" coords="5,1883,152,1910"/>
<area shape="rect" href="avatar_8cpp.html#aae4e2101b06ada3126964d726155f59b" title="対応する徳をプレイヤーがスロットに登録している場合に加減を行う。" alt="" coords="559,1579,639,1606"/>
<area shape="rect" href="action-limited_8cpp.html#ab6e41ead2ec3155cacbd47e788347578" title=" " alt="" coords="719,1478,857,1504"/>
<area shape="rect" href="display-messages_8cpp.html#a826c4e655c4e825175fc7e78d22d6f8f" title="@briefOutput a message to the top line of the screen." alt="" coords="908,971,987,998"/>
<area shape="rect" href="screen-processor_8cpp.html#a0a9e9396972b76c5947592479860020d" title=" " alt="" coords="1337,1832,1387,1859"/>
<area shape="rect" href="player-status_8cpp.html#a66e3d8439c969c25980516bbf58c5cad" title=" " alt="" coords="209,2136,281,2163"/>
<area shape="rect" href="target-getter_8cpp.html#a5efdb5caced3e95405ab037368629942" title=" " alt="" coords="554,1731,643,1758"/>
<area shape="rect" href="object-kind-hook_8cpp.html#a24f8a2426e4fc5128654ec26033312ab" title="tvalとsvalに対応するベースアイテムのIDを返す。 Find the index of the object_kind with the given tval and sval" alt="" coords="743,1934,833,1960"/>
<area shape="rect" href="spell-info_8cpp.html#a1e89c6a35328d711dcb051ba25c93a2a" title="呪文の失敗率修正処理1(呪い、消費魔力減少、呪文簡易化) / Modify spell fail rate Using to_m_chance, dec_mana,..." alt="" coords="716,1984,860,2011"/>
<area shape="rect" href="spell-info_8cpp.html#ad00ef1a0fb303825fc68e70dbdd62338" title="呪文の失敗率修正処理2(消費魔力減少、呪い、負値修正) / Modify spell fail rate Using to_m_chance, dec_mana, easy_spell and heav..." alt="" coords="716,2035,860,2062"/>
<area shape="rect" href="cmd-zaprod_8cpp.html#ae9106d1cdcf01f0497ab6cfc5758bf11" title="ロッドの効果を発動する" alt="" coords="206,844,285,871"/>
<area shape="rect" href="cmd-magiceat_8cpp.html#a91c575b4ac80c9d0058cf329b943d063" title="プレイヤーのアイテムに関するコマンドの実装2 / Spell/Prayer commands" alt="" coords="531,1858,666,1884"/>
<area shape="rect" href="sound-of-music_8cpp.html#a43627249eb6a528399f807914b0aeaad" title="音を鳴らす" alt="" coords="217,2187,274,2214"/>
<area shape="rect" href="cmd-usestaff_8cpp.html#a4a284c2f2988d427dd6baac5fcf99fd6" title="杖の効果を発動する" alt="" coords="203,312,287,339"/>
<area shape="rect" href="player-status_8cpp.html#a421634c10fa887793e9a6f3a311e9bd4" title=" " alt="" coords="207,2238,283,2264"/>
<area shape="rect" href="cmd-zapwand_8cpp.html#a31d2ae8a16eb78a6205a02588fbbcc77" title="魔法棒の効果を発動する" alt="" coords="200,1452,291,1479"/>
<area shape="rect" href="display-messages_8cpp.html#a715c364c1a62180727f92f40a8f7c356" title="ゲームメッセージをログに追加する。 / Add a new message, with great efficiency @params str 保存したいメッセージ" alt="" coords="1043,578,1145,604"/>
<area shape="rect" href="display-messages_8cpp.html#aaa160386b4a576ebce044a70f0429afe" title=" " alt="" coords="1053,946,1135,972"/>
<area shape="rect" href="z-term_8cpp.html#a38def801db9d369860ff89f56bc48239" title=" " alt="" coords="1202,971,1289,998"/>
<area shape="rect" href="z-term_8cpp.html#a29ca4103a6d05aeb6cb7ab21a7f17eb2" title=" " alt="" coords="1201,908,1289,935"/>
<area shape="rect" href="z-term_8cpp.html#af168a7456c90fcd8fe597117e14a0697" title=" " alt="" coords="1035,1047,1153,1074"/>
<area shape="rect" href="window-redrawer_8cpp.html#aefd338f8c6d1f5188a27af55b3fa13a2" title="player_ptr&#45;&gt;window のフラグに応じた更新をまとめて行う / Handle &quot;player_ptr&#45;&gt;window&quot;" alt="" coords="1047,1098,1141,1124"/>
<area shape="rect" href="sound-of-music_8cpp.html#aa5da7dc4719848ae9157b977c1e1db71" title=" " alt="" coords="1224,1768,1267,1795"/>
<area shape="rect" href="asking-player_8cpp.html#a00cb58166e0fbeca1df97f3f4aea57d6" title=" " alt="" coords="752,1731,824,1758"/>
<area shape="rect" href="command-repeater_8cpp.html#a7d3c94fc9d6f020c659ace3f90900d63" title=" " alt="" coords="745,1630,831,1656"/>
<area shape="rect" href="command-repeater_8cpp.html#a39413ec8841901fc40d8e731ca5d3277" title=" " alt="" coords="741,1680,835,1707"/>
<area shape="rect" href="spells-sight_8cpp.html#a38649e896637efab6c1c96d71f870948" title="視界内モンスターを怒らせる処理 / Wake up all monsters, and speed up &quot;los&quot; monsters." alt="" coords="529,1022,668,1048"/>
<area shape="rect" href="spells-random_8cpp.html#a030dd637743b27f0e319a9423a46715a" title="ダイス目により様々な効果を及ぼす魔法の処理" alt="" coords="368,1174,452,1200"/>
<area shape="rect" href="spells-launcher_8cpp.html#a9c5b6430a190c4d961f6017a483fdcf2" title="ボール系スペルの発動 / Cast a ball spell" alt="" coords="565,1174,632,1200"/>
<area shape="rect" href="spells-status_8cpp.html#ac6cc23e751d903cceebb4c6baf1d61d1" title=" " alt="" coords="339,363,481,390"/>
<area shape="rect" href="z-rand_8cpp.html#ab6e70da7e57e1a2b64363b1f94f1284e" title=" " alt="" coords="378,819,442,846"/>
<area shape="rect" href="spells-detection_8cpp.html#a5d096ba459f50401bf2e3d6762b9f297" title="全感知処理 / Detect everything" alt="" coords="371,566,449,592"/>
<area shape="rect" href="spells-detection_8cpp.html#a51a934aa10cafdef351b49ebfb59957f" title="プレイヤー周辺のドアを感知する / Detect all doors on current panel" alt="" coords="550,654,647,680"/>
<area shape="rect" href="spells-detection_8cpp.html#a4317d1e959e1e019d7821518fa277584" title="プレイヤー周辺の階段を感知する / Detect all stairs on current panel" alt="" coords="550,603,647,630"/>
<area shape="rect" href="spells-detection_8cpp.html#ac7acd54d9ba5a15020c20d627e86056e" title="プレイヤー周辺のトラップを感知する / Detect all traps on current panel" alt="" coords="551,515,646,542"/>
<area shape="rect" href="spells-beam_8cpp.html#ae8eae56c6352438b99f17ba9f04c861a" title="トラップ解除処理" alt="" coords="365,1224,455,1251"/>
<area shape="rect" href="spells-neighbor_8cpp.html#a5a588aed34a170d84a34d261b0c629ba" title="トラップ解除処理(プレイヤー中心に周囲1マス)" alt="" coords="342,1326,478,1352"/>
<area shape="rect" href="spells-sight_8cpp.html#a4492b77dd7b9034a0655e716bd049902" title="視界内のあらゆるモンスターにダメージを与える処理 / Dispel all monsters" alt="" coords="351,414,469,440"/>
<area shape="rect" href="geometry_8cpp.html#aed7b0b7bf05feb27e08a21112a69abb8" title="2点間の距離をニュートン・ラプソン法で算出する / Distance between two points via Newton&#45;Raphson technique" alt="" coords="563,920,634,947"/>
<area shape="rect" href="spells-launcher_8cpp.html#a1e7a3734d8ba41c7cc45621f4917a99b" title="確率に応じたボルト系/ビーム系スペルの発動 / Cast a bolt spell, or rarely, a beam spell." alt="" coords="348,1427,472,1454"/>
<area shape="rect" href="spells-specific-bolt_8cpp.html#a16b29006f7234e69026dc7327ef03be8" title="衰弱ボルト処理" alt="" coords="347,1478,473,1504"/>
<area shape="rect" href="spells-perception_8cpp.html#ac3df176ff52478263f041532247ea900" title="アイテム鑑定のメインルーチン処理 / Identify an object in the inventory (or on the floor)" alt="" coords="368,262,452,288"/>
<area shape="rect" href="spells-perception_8cpp.html#a37cf235976cfb937acb8a284ed66593e" title="アイテム*鑑定*のメインルーチン処理 / Identify an object in the inventory (or on the floor)" alt="" coords="363,312,457,339"/>
<area shape="rect" href="spells-lite_8cpp.html#a78cee093a3c7190cac79b36c36e200fc" title="プレイヤー位置を中心にLITE_WEAK属性を通じた照明処理を行う / Hack – call light around the player Affect all monsters in the pr..." alt="" coords="375,211,445,238"/>
<area shape="rect" href="spells-lite_8cpp.html#aa1d1337228a5158ce576fed55814716f" title="LITE_WEAK属性による光源ビーム処理" alt="" coords="377,1275,443,1302"/>
<area shape="rect" href="spells-floor_8cpp.html#a3eef4b1a04f3f28e70b39a6df9462ea7" title=" " alt="" coords="371,667,449,694"/>
<area shape="rect" href="spells-status_8cpp.html#a7d03a8fb9016f6481a5402da0d886070" title="チェンジモンスター処理" alt="" coords="360,1579,460,1606"/>
<area shape="rect" href="spells-sight_8cpp.html#a23bd0b66715a8270f8ab5c5f3686a4ff" title="周辺モンスターを調査する / Probe nearby monsters" alt="" coords="378,59,442,86"/>
<area shape="rect" href="spells-world_8cpp.html#acd1bf8acf03f4392bc78f8c170a23bc7" title="プレイヤーの帰還発動及び中止処理 / Recall the player to town or dungeon" alt="" coords="741,483,835,510"/>
<area shape="rect" href="spells-status_8cpp.html#a538945aa4c8a1a39852b9c7ecd276b21" title=" " alt="" coords="347,870,473,896"/>
</map>
</div>
<div class="dynheader">
被呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><img src="cmd-magiceat_8cpp_acd59184a979a8d34f868767874534ce8_icgraph.png" border="0" usemap="#acmd-magiceat_8cpp_acd59184a979a8d34f868767874534ce8_icgraph" alt=""/></div>
<map name="acmd-magiceat_8cpp_acd59184a979a8d34f868767874534ce8_icgraph" id="acmd-magiceat_8cpp_acd59184a979a8d34f868767874534ce8_icgraph">
<area shape="rect" title="取り込んだ魔力を利用するコマンドのメインルーチン / Use eaten rod, wand or staff" alt="" coords="939,31,1085,57"/>
<area shape="rect" href="input-key-processor_8cpp.html#a0530e351f785b80cae24b34c9bcd0b6e" title="プレイヤーから受けた入力コマンドの分岐処理。 / Parse and execute the current command Give &quot;Warning&quot; on illegal commands." alt="" coords="354,5,486,32"/>
<area shape="rect" href="store-key-processor_8cpp.html#a2df881dd276714d7355349f576aa3a87" title="店舗処理コマンド選択のメインルーチン / Process a command in a store" alt="" coords="723,31,891,57"/>
<area shape="rect" href="racial-switcher_8cpp.html#ac21c6b6a9eae71ce476478232b11f8e0" title="レイシャルと突然変異の技能処理 / Racial powers (and mutations)" alt="" coords="739,82,874,123"/>
<area shape="rect" href="player-processor_8cpp.html#a3a05ed5ec013fb1dda001d5788196a78" title="プレイヤーの行動処理 / Process the player" alt="" coords="177,5,288,32"/>
<area shape="rect" href="dungeon-processor_8cpp.html#a944d3d4e7757f7ef0c13876ff0a67e1d" title="process_player()、process_world() をcore.c から移設するのが先." alt="" coords="5,5,129,32"/>
<area shape="rect" href="cmd-store_8cpp.html#a9e2bf17bf0202cab0fbf13eca798c168" title="店舗処理全体のメインルーチン / Enter a store, and interact with it." alt="" coords="561,31,665,57"/>
<area shape="rect" href="racial-execution_8cpp.html#a7e635e6235b51eda9d29cc9bf0ac79dd" title="レイシャル・パワー発動処理" alt="" coords="552,89,675,116"/>
<area shape="rect" href="cmd-racial_8cpp.html#a5f006f05c6ec58252925013371aa132f" title=" " alt="" coords="336,89,504,116"/>
</map>
</div>

</div>
</div>
<a id="a91c575b4ac80c9d0058cf329b943d063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c575b4ac80c9d0058cf329b943d063">&#9670;&nbsp;</a></span>select_magic_eater()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="h-type_8h.html#ad52e4f96ca473e40e3be6db6f73a13d4">OBJECT_SUBTYPE_VALUE</a> select_magic_eater </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structplayer__type.html">player_type</a> *&#160;</td>
          <td class="paramname"><em>creature_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a>&#160;</td>
          <td class="paramname"><em>only_browse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>プレイヤーのアイテムに関するコマンドの実装2 / Spell/Prayer commands </p>
<dl class="section date"><dt>日付</dt><dd>2014/01/27 </dd></dl>
<dl class="section author"><dt>著者</dt><dd><pre>
Copyright (c) 1997 Ben Harrison, James E. Wilson, Robert A. Koeneke
This software may be copied and distributed for educational, research,
and not for profit purposes provided that this copyright and statement
are included in all such copies.  Other copyrights may also apply.
2014 Deskull rearranged comment for Doxygen.<br  />
</pre></dd></dl>
<pre>
This file includes code for eating food, drinking potions,
reading scrolls, aiming wands, using staffs, zapping rods,
and activating artifacts.

In all cases, if the player becomes "aware" of the item's use
by testing it, mark it as "aware" and reward some experience
based on the object's level, always rounding up.  If the player
remains "unaware", mark that object "kind" as "tried".

This code now correctly handles the unstacking of wands, staffs,
and rods.  Note the overly paranoid warning about potential pack
overflow, which allows the player to use and drop a stacked item.

In all "unstacking" scenarios, the "used" object is "carried" as if
the player had just picked it up.  In particular, this means that if
the use of an item induces pack overflow, that item will be dropped.

For simplicity, these routines induce a full "pack reorganization"
which not only combines similar items, but also reorganizes various
items to obey the current "sorting" method.  This may require about
400 item comparisons, but only occasionally.

There may be a BIG problem with any "effect" that can cause "changes"
to the inventory.  For example, a "scroll of recharging" can cause
a wand/staff to "disappear", moving the inventory up.  Luckily, the
scrolls all appear BEFORE the staffs/wands, so this is not a problem.
But, for example, a "staff of recharging" could cause MAJOR problems.
In such a case, it will be best to either (1) "postpone" the effect
until the end of the function, or (2) "change" the effect, say, into
giving a staff "negative" charges, or "turning a staff into a stick".
It seems as though a "rod of recharging" might in fact cause problems.
The basic problem is that the act of recharging (and destroying) an
item causes the inducer of that action to "move", causing "o_ptr" to
no longer point at the correct item, with horrifying results.

Note that food/potions/scrolls no longer use bit-flags for effects,
but instead use the "sval" (which is also used to sort the objects).
</pre><p>魔道具術師の取り込んだ魔力一覧から選択/閲覧する / </p><dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">only_browse</td><td>閲覧するだけならばTRUE </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>戻り値</dt><dd>選択した魔力のID、キャンセルならば-1を返す </dd></dl>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><img src="cmd-magiceat_8cpp_a91c575b4ac80c9d0058cf329b943d063_cgraph.png" border="0" usemap="#acmd-magiceat_8cpp_a91c575b4ac80c9d0058cf329b943d063_cgraph" alt=""/></div>
<map name="acmd-magiceat_8cpp_a91c575b4ac80c9d0058cf329b943d063_cgraph" id="acmd-magiceat_8cpp_a91c575b4ac80c9d0058cf329b943d063_cgraph">
<area shape="rect" title="プレイヤーのアイテムに関するコマンドの実装2 / Spell/Prayer commands" alt="" coords="5,464,140,491"/>
<area shape="rect" href="sound-of-music_8cpp.html#aa5da7dc4719848ae9157b977c1e1db71" title=" " alt="" coords="583,8,625,35"/>
<area shape="rect" href="screen-processor_8cpp.html#a2b20c97f1a0336d4a90a38fecd03db14" title=" " alt="" coords="735,427,786,453"/>
<area shape="rect" href="z-term_8cpp.html#a38def801db9d369860ff89f56bc48239" title=" " alt="" coords="888,401,975,428"/>
<area shape="rect" href="z-form_8cpp.html#a6b3ead44e52e849795675dab45f815c6" title=" " alt="" coords="231,540,289,567"/>
<area shape="rect" href="asking-player_8cpp.html#aa4ba425d5e56a3b73b8b4fab36ae998f" title=" " alt="" coords="219,135,301,161"/>
<area shape="rect" href="input-key-acceptor_8cpp.html#acfd501ca170125b10ce4b02c62ae7fa5" title=" " alt="" coords="577,109,631,136"/>
<area shape="rect" href="display-messages_8cpp.html#a826c4e655c4e825175fc7e78d22d6f8f" title="@briefOutput a message to the top line of the screen." alt="" coords="565,312,643,339"/>
<area shape="rect" href="screen-processor_8cpp.html#a6623a8348930a234b9e7c33d85935707" title=" " alt="" coords="585,261,623,288"/>
<area shape="rect" href="asking-player_8cpp.html#a00cb58166e0fbeca1df97f3f4aea57d6" title=" " alt="" coords="403,185,475,212"/>
<area shape="rect" href="object-kind-hook_8cpp.html#a24f8a2426e4fc5128654ec26033312ab" title="tvalとsvalに対応するベースアイテムのIDを返す。 Find the index of the object_kind with the given tval and sval" alt="" coords="215,641,305,668"/>
<area shape="rect" href="spell-info_8cpp.html#a1e89c6a35328d711dcb051ba25c93a2a" title="呪文の失敗率修正処理1(呪い、消費魔力減少、呪文簡易化) / Modify spell fail rate Using to_m_chance, dec_mana,..." alt="" coords="188,692,332,719"/>
<area shape="rect" href="spell-info_8cpp.html#ad00ef1a0fb303825fc68e70dbdd62338" title="呪文の失敗率修正処理2(消費魔力減少、呪い、負値修正) / Modify spell fail rate Using to_m_chance, dec_mana, easy_spell and heav..." alt="" coords="188,743,332,769"/>
<area shape="rect" href="command-repeater_8cpp.html#a7d3c94fc9d6f020c659ace3f90900d63" title=" " alt="" coords="217,793,303,820"/>
<area shape="rect" href="command-repeater_8cpp.html#a39413ec8841901fc40d8e731ca5d3277" title=" " alt="" coords="213,844,307,871"/>
<area shape="rect" href="screen-processor_8cpp.html#ab6872203e8eeb6f2b16103cabc46cef7" title=" " alt="" coords="393,337,485,364"/>
<area shape="rect" href="screen-processor_8cpp.html#a5a86358e9edbca0a8be62c88baac3015" title=" " alt="" coords="392,388,487,415"/>
<area shape="rect" href="buffer-shaper_8cpp.html#a74f223098d062fe8625ee0809a800315" title=" " alt="" coords="213,895,307,921"/>
<area shape="rect" href="z-form_8cpp.html#a9aa08e088dfad7c074dda437c146fa2c" title=" " alt="" coords="408,591,471,617"/>
<area shape="rect" href="screen-processor_8cpp.html#a0a9e9396972b76c5947592479860020d" title=" " alt="" coords="736,33,785,60"/>
<area shape="rect" href="z-term_8cpp.html#aec074935199524cf0a1a36e4d5e7c438" title=" " alt="" coords="719,135,802,161"/>
<area shape="rect" href="z-term_8cpp.html#a401c1053c2fe7ee3de4c5677a4c1df64" title=" " alt="" coords="893,59,970,85"/>
<area shape="rect" href="z-term_8cpp.html#a50f4ddf9b64ef43b1be95eb89e78c263" title=" " alt="" coords="860,160,1003,187"/>
<area shape="rect" href="z-term_8cpp.html#a5d7c0ea368bccad499b9bbdb4ffc53dc" title=" " alt="" coords="862,211,1001,237"/>
<area shape="rect" href="z-term_8cpp.html#a1b660c2d9fa25eb39e501811a0088cd2" title=" " alt="" coords="862,109,1001,136"/>
<area shape="rect" href="z-term_8cpp.html#a63992770b824936d10b8cdea326ed441" title=" " alt="" coords="886,452,977,479"/>
<area shape="rect" href="z-term_8cpp.html#aed0973004e647060e40c2e8ee2471b89" title=" " alt="" coords="1051,452,1180,479"/>
<area shape="rect" href="z-term_8cpp.html#a5453556c8642e1439e9c0b33d7b17261" title=" " alt="" coords="1068,401,1163,428"/>
<area shape="rect" href="z-form_8cpp.html#a82b6d3eda6f002871426b21d61fb731b" title=" " alt="" coords="408,540,471,567"/>
<area shape="rect" href="z-form_8cpp.html#a4f77331d7fa81a95f2ec614bb814b535" title=" " alt="" coords="571,565,637,592"/>
<area shape="rect" href="asking-player_8cpp.html#afc36c41a52a3ec2fdc8a7cd50df27da6" title=" " alt="" coords="380,135,499,161"/>
<area shape="rect" href="string-processor_8cpp.html#aa3085032d831bd3a5f752bf0823ba462" title=" " alt="" coords="547,59,661,85"/>
<area shape="rect" href="stuff-handler_8cpp.html#ae6fb3f813fe2e4b1bbef82331e170c59" title="全更新処理をチェックして処理していく Handle &quot;player_ptr&#45;&gt;update&quot; and &quot;player_ptr&#45;&gt;redraw&quot; and &quot;player_ptr&#45;&gt;window&quot;" alt="" coords="559,160,649,187"/>
<area shape="rect" href="display-messages_8cpp.html#a715c364c1a62180727f92f40a8f7c356" title="ゲームメッセージをログに追加する。 / Add a new message, with great efficiency @params str 保存したいメッセージ" alt="" coords="709,249,812,276"/>
</map>
</div>
<div class="dynheader">
被呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><img src="cmd-magiceat_8cpp_a91c575b4ac80c9d0058cf329b943d063_icgraph.png" border="0" usemap="#acmd-magiceat_8cpp_a91c575b4ac80c9d0058cf329b943d063_icgraph" alt=""/></div>
<map name="acmd-magiceat_8cpp_a91c575b4ac80c9d0058cf329b943d063_icgraph" id="acmd-magiceat_8cpp_a91c575b4ac80c9d0058cf329b943d063_icgraph">
<area shape="rect" title="プレイヤーのアイテムに関するコマンドの実装2 / Spell/Prayer commands" alt="" coords="925,31,1060,57"/>
<area shape="rect" href="cmd-magiceat_8cpp.html#acd59184a979a8d34f868767874534ce8" title="取り込んだ魔力を利用するコマンドのメインルーチン / Use eaten rod, wand or staff" alt="" coords="731,31,877,57"/>
<area shape="rect" href="input-key-processor_8cpp.html#a0530e351f785b80cae24b34c9bcd0b6e" title="プレイヤーから受けた入力コマンドの分岐処理。 / Parse and execute the current command Give &quot;Warning&quot; on illegal commands." alt="" coords="164,5,296,32"/>
<area shape="rect" href="store-key-processor_8cpp.html#a2df881dd276714d7355349f576aa3a87" title="店舗処理コマンド選択のメインルーチン / Process a command in a store" alt="" coords="515,31,683,57"/>
<area shape="rect" href="racial-switcher_8cpp.html#ac21c6b6a9eae71ce476478232b11f8e0" title="レイシャルと突然変異の技能処理 / Racial powers (and mutations)" alt="" coords="531,82,666,123"/>
<area shape="rect" href="player-processor_8cpp.html#a3a05ed5ec013fb1dda001d5788196a78" title="プレイヤーの行動処理 / Process the player" alt="" coords="5,5,116,32"/>
<area shape="rect" href="cmd-store_8cpp.html#a9e2bf17bf0202cab0fbf13eca798c168" title="店舗処理全体のメインルーチン / Enter a store, and interact with it." alt="" coords="353,31,457,57"/>
<area shape="rect" href="racial-execution_8cpp.html#a7e635e6235b51eda9d29cc9bf0ac79dd" title="レイシャル・パワー発動処理" alt="" coords="344,89,467,116"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
2021年04月13日(火) 19時53分32秒作成 - Bakabakaband / 構成: &#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
