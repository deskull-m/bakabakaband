<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bakabakaband: C:/Users/deskull/Documents/bakabakaband/src/core/speed-table.h ファイル</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="BakabakabandTitle.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bakabakaband
   &#160;<span id="projectnumber">0.0.0Alpha3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'検索','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','検索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">マクロ定義</a> &#124;
<a href="#var-members">変数</a>  </div>
  <div class="headertitle">
<div class="title">speed-table.h ファイル</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="angband_8h_source.html">system/angband.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
speed-table.h の依存先関係図:</div>
<div class="dyncontent">
<div class="center"><img src="speed-table_8h__incl.png" border="0" usemap="#a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2core_2speed-table_8h" alt=""/></div>
<map name="a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2core_2speed-table_8h" id="a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2core_2speed-table_8h">
<area shape="rect" title=" " alt="" coords="342,5,542,61"/>
<area shape="rect" href="angband_8h.html" title="Angband(馬鹿馬鹿蛮怒)メインヘッダファイル Main &quot;Angband&quot; header file" alt="" coords="377,109,507,136"/>
<area shape="rect" href="z-util_8h.html" title=" " alt="" coords="31,184,122,211"/>
<area shape="rect" href="gamevalue_8h.html" title=" " alt="" coords="23,348,165,375"/>
<area shape="rect" href="z-virt_8h.html" title=" " alt="" coords="517,184,607,211"/>
<area shape="rect" href="z-form_8h.html" title=" " alt="" coords="146,184,245,211"/>
<area shape="rect" href="z-rand_8h.html" title=" " alt="" coords="269,184,367,211"/>
<area shape="rect" href="z-term_8h.html" title=" " alt="" coords="392,184,492,211"/>
<area shape="rect" href="language-switcher_8h.html" title=" " alt="" coords="632,184,807,211"/>
<area shape="rect" href="player-status_8h.html" title=" " alt="" coords="943,184,1090,211"/>
<area shape="rect" href="h-basic_8h.html" title="変愚時追加された基本事項のヘッダーファイル / The most basic &quot;include&quot; file." alt="" coords="169,266,291,293"/>
<area shape="rect" title=" " alt="" coords="386,266,461,293"/>
<area shape="rect" title=" " alt="" coords="485,266,567,293"/>
<area shape="rect" href="mutation-flag-types_8h.html" title=" " alt="" coords="592,259,743,300"/>
<area shape="rect" href="base-status-types_8h.html" title=" " alt="" coords="767,259,920,300"/>
<area shape="rect" href="player-classes-types_8h.html" title=" " alt="" coords="944,259,1089,300"/>
<area shape="rect" href="player-personalities-types_8h.html" title=" " alt="" coords="1114,259,1287,300"/>
<area shape="rect" href="player-race-types_8h.html" title=" " alt="" coords="1311,259,1437,300"/>
<area shape="rect" href="spells-util_8h.html" title=" " alt="" coords="1461,266,1580,293"/>
<area shape="rect" href="flag-group_8h.html" title=" " alt="" coords="1604,266,1715,293"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
被依存関係図:</div>
<div class="dyncontent">
<div class="center"><img src="speed-table_8h__dep__incl.png" border="0" usemap="#a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2core_2speed-table_8hdep" alt=""/></div>
<map name="a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2core_2speed-table_8hdep" id="a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2core_2speed-table_8hdep">
<area shape="rect" title=" " alt="" coords="1529,5,1729,61"/>
<area shape="rect" href="game-play_8cpp.html" title=" " alt="" coords="5,109,203,165"/>
<area shape="rect" href="player-processor_8cpp.html" title=" " alt="" coords="227,109,427,165"/>
<area shape="rect" href="speed-table_8cpp.html" title=" " alt="" coords="451,109,651,165"/>
<area shape="rect" href="monk-attack_8cpp.html" title=" " alt="" coords="675,109,875,165"/>
<area shape="rect" href="monster-list_8cpp.html" title=" " alt="" coords="899,109,1087,165"/>
<area shape="rect" href="monster-processor_8cpp.html" title=" " alt="" coords="1111,109,1299,165"/>
<area shape="rect" href="monster-status-setter_8cpp.html" title=" " alt="" coords="1323,109,1511,165"/>
<area shape="rect" href="monster-status_8cpp.html" title=" " alt="" coords="1535,109,1723,165"/>
<area shape="rect" href="monster-move_8cpp.html" title=" " alt="" coords="1747,109,1935,165"/>
<area shape="rect" href="one-monster-placer_8cpp.html" title=" " alt="" coords="1959,109,2150,165"/>
<area shape="rect" href="mspell-dispel_8cpp.html" title=" " alt="" coords="2174,109,2362,165"/>
<area shape="rect" href="digestion-processor_8cpp.html" title=" " alt="" coords="2386,109,2574,165"/>
<area shape="rect" href="spells-teleport_8cpp.html" title=" " alt="" coords="2598,109,2786,165"/>
<area shape="rect" href="body-improvement_8cpp.html" title=" " alt="" coords="2810,109,2998,165"/>
<area shape="rect" href="buff-setter_8cpp.html" title=" " alt="" coords="3022,109,3210,165"/>
</map>
</div>
</div>
<p><a href="speed-table_8h_source.html">[ソースコード]</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
マクロ定義</h2></td></tr>
<tr class="memitem:ab9159d4521c3fd1bc24be352b0629071"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="speed-table_8h.html#ab9159d4521c3fd1bc24be352b0629071">NUM_SPEED</a>&#160;&#160;&#160;200</td></tr>
<tr class="separator:ab9159d4521c3fd1bc24be352b0629071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a185a76404a73535b820e147298652449"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="speed-table_8h.html#a185a76404a73535b820e147298652449">ENERGY_NEED</a>()&#160;&#160;&#160;(<a class="el" href="z-rand_8h.html#a73f3287c335a4dbfebdc5cfa30462b91">randnor</a>(100, 25))</td></tr>
<tr class="memdesc:a185a76404a73535b820e147298652449"><td class="mdescLeft">&#160;</td><td class="mdescRight">消費する行動エネルギー値を正規乱数で返す(中央100/分散25) / Random energy  <a href="speed-table_8h.html#a185a76404a73535b820e147298652449">[詳解]</a><br /></td></tr>
<tr class="separator:a185a76404a73535b820e147298652449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f11599c6a748e3710619588dda82880"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="speed-table_8h.html#a8f11599c6a748e3710619588dda82880">SPEED_TO_ENERGY</a>(<a class="el" href="h-type_8h.html#a8ebc6e00318348041703de0484bead54">SPEED</a>)&#160;&#160;&#160;(((<a class="el" href="h-type_8h.html#a8ebc6e00318348041703de0484bead54">SPEED</a>) &gt; 199) ? 49 : <a class="el" href="speed-table_8h.html#a41a8a276a466f3798de5b79db16f0b8c">extract_energy</a>[(<a class="el" href="h-type_8h.html#a8ebc6e00318348041703de0484bead54">SPEED</a>)])</td></tr>
<tr class="memdesc:a8f11599c6a748e3710619588dda82880"><td class="mdescLeft">&#160;</td><td class="mdescRight">加速値に応じた基本行動エネルギー消費量を返す / Extract energy from speed (Assumes that SPEED is unsigned)  <a href="speed-table_8h.html#a8f11599c6a748e3710619588dda82880">[詳解]</a><br /></td></tr>
<tr class="separator:a8f11599c6a748e3710619588dda82880"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
変数</h2></td></tr>
<tr class="memitem:a41a8a276a466f3798de5b79db16f0b8c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="h-type_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="speed-table_8h.html#a41a8a276a466f3798de5b79db16f0b8c">extract_energy</a> [<a class="el" href="speed-table_8h.html#ab9159d4521c3fd1bc24be352b0629071">NUM_SPEED</a>]</td></tr>
<tr class="memdesc:a41a8a276a466f3798de5b79db16f0b8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">加速値による実質速度修正倍率テーブル / This table allows quick conversion from "speed" to "energy"  <a href="speed-table_8h.html#a41a8a276a466f3798de5b79db16f0b8c">[詳解]</a><br /></td></tr>
<tr class="separator:a41a8a276a466f3798de5b79db16f0b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">マクロ定義詳解</h2>
<a id="a185a76404a73535b820e147298652449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a185a76404a73535b820e147298652449">&#9670;&nbsp;</a></span>ENERGY_NEED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENERGY_NEED</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="z-rand_8h.html#a73f3287c335a4dbfebdc5cfa30462b91">randnor</a>(100, 25))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>消費する行動エネルギー値を正規乱数で返す(中央100/分散25) / Random energy </p>

</div>
</div>
<a id="ab9159d4521c3fd1bc24be352b0629071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9159d4521c3fd1bc24be352b0629071">&#9670;&nbsp;</a></span>NUM_SPEED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_SPEED&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f11599c6a748e3710619588dda82880"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f11599c6a748e3710619588dda82880">&#9670;&nbsp;</a></span>SPEED_TO_ENERGY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPEED_TO_ENERGY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="h-type_8h.html#a8ebc6e00318348041703de0484bead54">SPEED</a></td><td>)</td>
          <td>&#160;&#160;&#160;(((<a class="el" href="h-type_8h.html#a8ebc6e00318348041703de0484bead54">SPEED</a>) &gt; 199) ? 49 : <a class="el" href="speed-table_8h.html#a41a8a276a466f3798de5b79db16f0b8c">extract_energy</a>[(<a class="el" href="h-type_8h.html#a8ebc6e00318348041703de0484bead54">SPEED</a>)])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>加速値に応じた基本行動エネルギー消費量を返す / Extract energy from speed (Assumes that SPEED is unsigned) </p>

</div>
</div>
<h2 class="groupheader">変数詳解</h2>
<a id="a41a8a276a466f3798de5b79db16f0b8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41a8a276a466f3798de5b79db16f0b8c">&#9670;&nbsp;</a></span>extract_energy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="h-type_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> extract_energy[<a class="el" href="speed-table_8h.html#ab9159d4521c3fd1bc24be352b0629071">NUM_SPEED</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>加速値による実質速度修正倍率テーブル / This table allows quick conversion from "speed" to "energy" </p>
<dl class="section date"><dt>日付</dt><dd>2019/05/10 </dd></dl>
<dl class="section author"><dt>著者</dt><dd>deskull</dd></dl>
<p>The basic function WAS ((S&gt;=110) ? (S-110) : (100 / (120-S))) Note that table access is <em>much</em> quicker than computation.</p>
<p>Note that the table has been changed at high speeds. From "Slow (-40)" to "Fast (+30)" is pretty much unchanged, but at speeds above "Fast (+30)", one approaches an asymptotic effective limit of 50 energy per turn. This means that it is relatively easy to reach "Fast (+30)" and get about 40 energy per turn, but then speed becomes very "expensive", and you must get all the way to "Fast (+50)" to reach the point of getting 45 energy per turn. After that point, furthur increases in speed are more or less pointless, except to balance out heavy inventory.</p>
<p>Note that currently the fastest monster is "Fast (+30)".</p>
<p>It should be possible to lower the energy threshhold from 100 units to 50 units, though this may interact badly with the (compiled out) small random energy boost code. It may also tend to cause more "clumping" at high speeds. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
2021年04月13日(火) 19時53分44秒作成 - Bakabakaband / 構成: &#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
