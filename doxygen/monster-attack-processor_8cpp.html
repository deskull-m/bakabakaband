<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bakabakaband: C:/Users/deskull/Documents/bakabakaband/src/monster-attack/monster-attack-processor.cpp ファイル</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="BakabakabandTitle.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bakabakaband
   &#160;<span id="projectnumber">0.0.0Alpha3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'検索','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','検索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_11905a11fb100707d03e882653e10246.html">monster-attack</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">関数</a>  </div>
  <div class="headertitle">
<div class="title">monster-attack-processor.cpp ファイル</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="monster-attack-processor_8h_source.html">monster-attack/monster-attack-processor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dungeon-flag-types_8h_source.html">dungeon/dungeon-flag-types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dungeon_8h_source.html">dungeon/dungeon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cave_8h_source.html">floor/cave.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monster-attack-monster_8h_source.html">melee/monster-attack-monster.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monster-attack-player_8h_source.html">monster-attack/monster-attack-player.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monster-race_8h_source.html">monster-race/monster-race.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="race-flags1_8h_source.html">monster-race/race-flags1.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="race-flags2_8h_source.html">monster-race/race-flags2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monster-info_8h_source.html">monster/monster-info.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monster-status-setter_8h_source.html">monster/monster-status-setter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monster-status_8h_source.html">monster/monster-status.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="floor-type-definition_8h_source.html">system/floor-type-definition.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
monster-attack-processor.cpp の依存先関係図:</div>
<div class="dyncontent">
<div class="center"><img src="monster-attack-processor_8cpp__incl.png" border="0" usemap="#a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2monster-attack_2monster-attack-processor_8cpp" alt=""/></div>
<map name="a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2monster-attack_2monster-attack-processor_8cpp" id="a_c_1_2_users_2deskull_2_documents_2bakabakaband_2src_2monster-attack_2monster-attack-processor_8cpp">
<area shape="rect" title=" " alt="" coords="1044,5,1283,61"/>
<area shape="rect" href="monster-attack-processor_8h.html" title=" " alt="" coords="1601,109,1761,151"/>
<area shape="rect" href="dungeon-flag-types_8h.html" title=" " alt="" coords="567,109,715,151"/>
<area shape="rect" href="dungeon_8h.html" title=" " alt="" coords="203,206,338,233"/>
<area shape="rect" href="cave_8h.html" title=" " alt="" coords="988,117,1075,143"/>
<area shape="rect" href="monster-attack-monster_8h.html" title=" " alt="" coords="1087,199,1235,240"/>
<area shape="rect" href="monster-attack-player_8h.html" title=" " alt="" coords="1137,288,1297,329"/>
<area shape="rect" href="monster-race_8h.html" title=" " alt="" coords="740,109,889,151"/>
<area shape="rect" href="race-flags1_8h.html" title=" " alt="" coords="1201,117,1377,143"/>
<area shape="rect" href="race-flags2_8h.html" title=" " alt="" coords="1401,117,1577,143"/>
<area shape="rect" href="monster-info_8h.html" title=" " alt="" coords="1662,295,1817,322"/>
<area shape="rect" href="monster-status-setter_8h.html" title=" " alt="" coords="852,199,1012,240"/>
<area shape="rect" href="monster-status_8h.html" title=" " alt="" coords="1841,295,2012,322"/>
<area shape="rect" href="floor-type-definition_8h.html" title=" " alt="" coords="2031,117,2219,143"/>
<area shape="rect" href="angband_8h.html" title="Angband(馬鹿馬鹿蛮怒)メインヘッダファイル Main &quot;Angband&quot; header file" alt="" coords="1035,385,1164,411"/>
<area shape="rect" href="grid_8h.html" title="ダンジョンの生成処理の基幹部分ヘッダーファイル" alt="" coords="1622,206,1700,233"/>
<area shape="rect" href="monster-processor-util_8h.html" title=" " alt="" coords="1396,199,1577,240"/>
<area shape="rect" href="z-util_8h.html" title=" " alt="" coords="949,474,1040,501"/>
<area shape="rect" href="z-virt_8h.html" title=" " alt="" coords="1064,474,1154,501"/>
<area shape="rect" href="z-form_8h.html" title=" " alt="" coords="1178,474,1277,501"/>
<area shape="rect" href="z-rand_8h.html" title=" " alt="" coords="1301,474,1400,501"/>
<area shape="rect" href="z-term_8h.html" title=" " alt="" coords="460,474,560,501"/>
<area shape="rect" href="language-switcher_8h.html" title=" " alt="" coords="584,474,759,501"/>
<area shape="rect" href="gamevalue_8h.html" title=" " alt="" coords="784,474,925,501"/>
<area shape="rect" href="player-status_8h.html" title=" " alt="" coords="1424,474,1570,501"/>
<area shape="rect" href="spells-util_8h.html" title=" " alt="" coords="1808,556,1927,583"/>
<area shape="rect" href="flag-group_8h.html" title=" " alt="" coords="1442,556,1552,583"/>
<area shape="rect" href="geometry_8h.html" title=" " alt="" coords="1524,295,1638,322"/>
<area shape="rect" href="monster-type-definition_8h.html" title=" " alt="" coords="1787,377,1932,419"/>
<area shape="rect" href="monster-timed-effect-types_8h.html" title=" " alt="" coords="2138,467,2294,508"/>
<area shape="rect" href="race-ability-flags_8h.html" title=" " alt="" coords="694,288,860,329"/>
<area shape="rect" href="feature_8h.html" title=" " alt="" coords="135,295,232,322"/>
<area shape="rect" title=" " alt="" coords="294,385,348,411"/>
<area shape="rect" title=" " alt="" coords="32,385,88,411"/>
<area shape="rect" href="feature-flag-types_8h.html" title=" " alt="" coords="112,385,269,411"/>
<area shape="rect" href="monster-race-definition_8h.html" title=" " alt="" coords="518,199,663,240"/>
<area shape="rect" href="monster-attack-effect_8h.html" title=" " alt="" coords="485,377,645,419"/>
<area shape="rect" href="monster-attack-types_8h.html" title=" " alt="" coords="510,288,670,329"/>
<area shape="rect" href="floor-base-definitions_8h.html" title=" " alt="" coords="2220,206,2398,233"/>
<area shape="rect" href="sight-definitions_8h.html" title=" " alt="" coords="1994,206,2144,233"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
関数</h2></td></tr>
<tr class="memitem:aa095f5ecccac0b28f47b8ddf95c88a54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monster-attack-processor_8cpp.html#aa095f5ecccac0b28f47b8ddf95c88a54">exe_monster_attack_to_player</a> (<a class="el" href="structplayer__type.html">player_type</a> *target_ptr, <a class="el" href="structturn__flags.html">turn_flags</a> *turn_flags_ptr, <a class="el" href="h-type_8h.html#ad2d0f988482931f676c919cf5d0f7716">MONSTER_IDX</a> m_idx, <a class="el" href="h-type_8h.html#aa76a678e41fd2b751e1a18b9f5dc8c03">POSITION</a> ny, <a class="el" href="h-type_8h.html#aa76a678e41fd2b751e1a18b9f5dc8c03">POSITION</a> nx)</td></tr>
<tr class="memdesc:aa095f5ecccac0b28f47b8ddf95c88a54"><td class="mdescLeft">&#160;</td><td class="mdescRight">モンスターの攻撃に関する処理  <a href="monster-attack-processor_8cpp.html#aa095f5ecccac0b28f47b8ddf95c88a54">[詳解]</a><br /></td></tr>
<tr class="separator:aa095f5ecccac0b28f47b8ddf95c88a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aee1ff7b13583888878ac480e5b6afd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monster-attack-processor_8cpp.html#a0aee1ff7b13583888878ac480e5b6afd">exe_monster_attack_to_monster</a> (<a class="el" href="structplayer__type.html">player_type</a> *target_ptr, <a class="el" href="h-type_8h.html#ad2d0f988482931f676c919cf5d0f7716">MONSTER_IDX</a> m_idx, <a class="el" href="structgrid__type.html">grid_type</a> *g_ptr)</td></tr>
<tr class="memdesc:a0aee1ff7b13583888878ac480e5b6afd"><td class="mdescLeft">&#160;</td><td class="mdescRight">モンスターからモンスターへの直接攻撃を実行する  <a href="monster-attack-processor_8cpp.html#a0aee1ff7b13583888878ac480e5b6afd">[詳解]</a><br /></td></tr>
<tr class="separator:a0aee1ff7b13583888878ac480e5b6afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add2b2d9c11aa4bf6cd55e177af6bb934"><td class="memItemLeft" align="right" valign="top"><a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monster-attack-processor_8cpp.html#add2b2d9c11aa4bf6cd55e177af6bb934">process_monster_attack_to_monster</a> (<a class="el" href="structplayer__type.html">player_type</a> *target_ptr, <a class="el" href="structturn__flags.html">turn_flags</a> *turn_flags_ptr, <a class="el" href="h-type_8h.html#ad2d0f988482931f676c919cf5d0f7716">MONSTER_IDX</a> m_idx, <a class="el" href="structgrid__type.html">grid_type</a> *g_ptr, <a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a> can_cross)</td></tr>
<tr class="memdesc:add2b2d9c11aa4bf6cd55e177af6bb934"><td class="mdescLeft">&#160;</td><td class="mdescRight">モンスターからモンスターへの攻撃処理  <a href="monster-attack-processor_8cpp.html#add2b2d9c11aa4bf6cd55e177af6bb934">[詳解]</a><br /></td></tr>
<tr class="separator:add2b2d9c11aa4bf6cd55e177af6bb934"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">関数詳解</h2>
<a id="a0aee1ff7b13583888878ac480e5b6afd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aee1ff7b13583888878ac480e5b6afd">&#9670;&nbsp;</a></span>exe_monster_attack_to_monster()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a> exe_monster_attack_to_monster </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structplayer__type.html">player_type</a> *&#160;</td>
          <td class="paramname"><em>target_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h-type_8h.html#ad2d0f988482931f676c919cf5d0f7716">MONSTER_IDX</a>&#160;</td>
          <td class="paramname"><em>m_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrid__type.html">grid_type</a> *&#160;</td>
          <td class="paramname"><em>g_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>モンスターからモンスターへの直接攻撃を実行する </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">target_ptr</td><td>プレーヤーへの参照ポインタ </td></tr>
    <tr><td class="paramname">m_idx</td><td>モンスターID </td></tr>
    <tr><td class="paramname">g_ptr</td><td>グリッドへの参照ポインタ </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><img src="monster-attack-processor_8cpp_a0aee1ff7b13583888878ac480e5b6afd_cgraph.png" border="0" usemap="#amonster-attack-processor_8cpp_a0aee1ff7b13583888878ac480e5b6afd_cgraph" alt=""/></div>
<map name="amonster-attack-processor_8cpp_a0aee1ff7b13583888878ac480e5b6afd_cgraph" id="amonster-attack-processor_8cpp_a0aee1ff7b13583888878ac480e5b6afd_cgraph">
<area shape="rect" title="モンスターからモンスターへの直接攻撃を実行する" alt="" coords="5,207,145,249"/>
<area shape="rect" href="monster-info_8cpp.html#aff808ee0286522b402650157e83d4ad9" title=" " alt="" coords="644,5,808,32"/>
<area shape="rect" href="monster-attack-monster_8cpp.html#a42ec35a0659aa887eabe9976cf5f7e77" title="モンスターから敵モンスターへの打撃攻撃処理" alt="" coords="217,215,361,241"/>
<area shape="rect" href="monster-status_8cpp.html#a43f06b6e21bda28d0bd4ba24b2ab8169" title=" " alt="" coords="193,265,384,292"/>
<area shape="rect" href="monster-attack-monster_8cpp.html#ad653e022a8728810e2fd86cfe47f5cbe" title=" " alt="" coords="439,56,589,83"/>
<area shape="rect" href="disturbance_8cpp.html#abb571f41d3e333cf82ad7f01284f8d82" title=" " alt="" coords="885,512,946,539"/>
<area shape="rect" href="monster-attack-monster_8cpp.html#a7b13044e9b26eac26ca737d9927cfd19" title=" " alt="" coords="443,462,585,503"/>
<area shape="rect" href="monster-describer_8cpp.html#a14a84921133374dd6cd2b6ead8c1bc51" title="モンスターの呼称を作成する / Build a string describing a monster in some way." alt="" coords="863,436,967,463"/>
<area shape="rect" href="melee-util_8cpp.html#a457e94672a81323dcb025895bad6e34f" title=" " alt="" coords="445,183,583,209"/>
<area shape="rect" href="monster-attack-monster_8cpp.html#a44fa0c05c2f6b2f7e5ee32d34847472f" title="r_infoで定義した攻撃回数の分だけ、モンスターからモンスターへの直接攻撃処理を繰り返す" alt="" coords="464,107,564,133"/>
<area shape="rect" href="monster-attack-monster_8cpp.html#a24b70f13486473060f759cb97bb12012" title=" " alt="" coords="432,247,596,273"/>
<area shape="rect" href="screen-processor_8cpp.html#a0a9e9396972b76c5947592479860020d" title=" " alt="" coords="1043,563,1092,589"/>
<area shape="rect" href="action-setter_8cpp.html#ad255d4488d697515c99975cc2f54f7b4" title="プレイヤーの継続行動処理" alt="" coords="1026,411,1109,437"/>
<area shape="rect" href="target-checker_8cpp.html#ab5d9c439bff580356189f8c2d51c4cb6" title="マップ描画のフォーカスを当てるべき座標を更新する" alt="" coords="1023,512,1112,539"/>
<area shape="rect" href="display-messages_8cpp.html#a826c4e655c4e825175fc7e78d22d6f8f" title="@briefOutput a message to the top line of the screen." alt="" coords="1160,360,1239,387"/>
<area shape="rect" href="melee-postprocess_8cpp.html#ad1f0f3b1e09613dd611d055979e16079" title="モンスターが敵モンスターに行う打撃処理 / Hack, based on mon_take_hit..." alt="" coords="660,512,792,539"/>
<area shape="rect" href="monster-status-setter_8cpp.html#a0f21d1420ce64b3a07b8d58396edbdfd" title="モンスターの無敵状態値をセット / Set &quot;m_ptr&#45;&gt;mtimed[MTIMED_INVULNER]&quot;, notice observable changes" alt="" coords="654,461,798,488"/>
<area shape="rect" href="sound-of-music_8cpp.html#a43627249eb6a528399f807914b0aeaad" title="音を鳴らす" alt="" coords="887,360,944,387"/>
<area shape="rect" href="geometry_8cpp.html#aee4a4a78ed769a57ff6e3745a4425498" title="Is the monster seen by the player?" alt="" coords="693,157,759,184"/>
<area shape="rect" href="monster-status_8cpp.html#a0f7201c5a9c7997732968dbdd75a5066" title=" " alt="" coords="856,132,975,159"/>
<area shape="rect" href="monster-attack-monster_8cpp.html#a3877284386fd0f7550d1bc35fc17b19c" title=" " alt="" coords="671,107,781,133"/>
<area shape="rect" href="spells-teleport_8cpp.html#a673e0c578a199d0d78f6fc944bcba7fb" title="モンスターのテレポートアウェイ処理 / Teleport a monster, normally up to &quot;dis&quot; grids away." alt="" coords="675,208,777,235"/>
<area shape="rect" href="spells-hex_8cpp.html#ac985b1afb644fe3a51c57a06dafc1405" title="反テレポート結界の判定" alt="" coords="672,259,780,285"/>
</map>
</div>
<div class="dynheader">
被呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><img src="monster-attack-processor_8cpp_a0aee1ff7b13583888878ac480e5b6afd_icgraph.png" border="0" usemap="#amonster-attack-processor_8cpp_a0aee1ff7b13583888878ac480e5b6afd_icgraph" alt=""/></div>
<map name="amonster-attack-processor_8cpp_a0aee1ff7b13583888878ac480e5b6afd_icgraph" id="amonster-attack-processor_8cpp_a0aee1ff7b13583888878ac480e5b6afd_icgraph">
<area shape="rect" title="モンスターからモンスターへの直接攻撃を実行する" alt="" coords="625,5,765,47"/>
<area shape="rect" href="monster-attack-processor_8cpp.html#add2b2d9c11aa4bf6cd55e177af6bb934" title="モンスターからモンスターへの攻撃処理" alt="" coords="412,5,577,47"/>
<area shape="rect" href="monster-move_8cpp.html#ad952bf31a67518ea50735f5f724b866d" title="モンスターの移動に関するメインルーチン" alt="" coords="176,13,364,39"/>
<area shape="rect" href="monster-processor_8cpp.html#ae6e21e8e28cd96eb7bc76f452416588a" title="モンスター単体の1ターン行動処理メインルーチン / Process a monster" alt="" coords="5,13,128,39"/>
</map>
</div>

</div>
</div>
<a id="aa095f5ecccac0b28f47b8ddf95c88a54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa095f5ecccac0b28f47b8ddf95c88a54">&#9670;&nbsp;</a></span>exe_monster_attack_to_player()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void exe_monster_attack_to_player </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structplayer__type.html">player_type</a> *&#160;</td>
          <td class="paramname"><em>target_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structturn__flags.html">turn_flags</a> *&#160;</td>
          <td class="paramname"><em>turn_flags_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h-type_8h.html#ad2d0f988482931f676c919cf5d0f7716">MONSTER_IDX</a>&#160;</td>
          <td class="paramname"><em>m_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h-type_8h.html#aa76a678e41fd2b751e1a18b9f5dc8c03">POSITION</a>&#160;</td>
          <td class="paramname"><em>ny</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h-type_8h.html#aa76a678e41fd2b751e1a18b9f5dc8c03">POSITION</a>&#160;</td>
          <td class="paramname"><em>nx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>モンスターの攻撃に関する処理 </p>
<dl class="section date"><dt>日付</dt><dd>2020/03/08 </dd></dl>
<dl class="section author"><dt>著者</dt><dd>Hourier</dd></dl>
<p>モンスターが移動した結果、そこにプレーヤーがいたら直接攻撃を行う </p><dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">target_ptr</td><td>プレーヤーへの参照ポインタ </td></tr>
    <tr><td class="paramname">turn_flags_ptr</td><td>ターン経過処理フラグへの参照ポインタ </td></tr>
    <tr><td class="paramname">m_idx</td><td>モンスターID </td></tr>
    <tr><td class="paramname">ny</td><td>移動後の、モンスターのY座標 </td></tr>
    <tr><td class="paramname">nx</td><td>移動後の、モンスターのX座標 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>戻り値</dt><dd>なし</dd></dl>
<p>反攻撃の洞窟など、直接攻撃ができない場所では処理をスキップする </p>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><img src="monster-attack-processor_8cpp_aa095f5ecccac0b28f47b8ddf95c88a54_cgraph.png" border="0" usemap="#amonster-attack-processor_8cpp_aa095f5ecccac0b28f47b8ddf95c88a54_cgraph" alt=""/></div>
<map name="amonster-attack-processor_8cpp_aa095f5ecccac0b28f47b8ddf95c88a54_cgraph" id="amonster-attack-processor_8cpp_aa095f5ecccac0b28f47b8ddf95c88a54_cgraph">
<area shape="rect" title="モンスターの攻撃に関する処理" alt="" coords="5,1103,145,1145"/>
<area shape="rect" href="monster-info_8cpp.html#aff808ee0286522b402650157e83d4ad9" title=" " alt="" coords="1083,5,1247,32"/>
<area shape="rect" href="monster-attack-player_8cpp.html#aaa47611f7727c9fefb8075e89e11eeef" title="モンスターからプレイヤーへの打撃処理 / Attack the player via physical attacks." alt="" coords="217,1085,360,1112"/>
<area shape="rect" href="monster-status_8cpp.html#a43f06b6e21bda28d0bd4ba24b2ab8169" title=" " alt="" coords="193,1136,384,1163"/>
<area shape="rect" href="cave_8cpp.html#ac69872aa54de3f8ee80b6f0f933ebbcd" title=" " alt="" coords="245,1187,333,1213"/>
<area shape="rect" href="monster-attack-player_8cpp.html#ab45e064cc3b2f52bcc5ebd42e234ba46" title="モンスターからプレーヤーへの直接攻撃処理" alt="" coords="450,172,561,199"/>
<area shape="rect" href="cmd-attack_8cpp.html#a8e48cd6d2ca0901e5c89e19e30aab0b3" title="プレイヤーの打撃処理メインルーチン" alt="" coords="875,661,986,688"/>
<area shape="rect" href="monster-describer_8cpp.html#a14a84921133374dd6cd2b6ead8c1bc51" title="モンスターの呼称を作成する / Build a string describing a monster in some way." alt="" coords="1344,1161,1448,1188"/>
<area shape="rect" href="display-messages_8cpp.html#a6ed9d22f518e08be86392d6b59fe1e95" title=" " alt="" coords="1351,1389,1441,1416"/>
<area shape="rect" href="monster-attack-util_8cpp.html#a59508c743e68583917ab26839b05d039" title="モンスターがプレーヤーへ攻撃する処理に関するユーティリティ" alt="" coords="432,1296,579,1323"/>
<area shape="rect" href="mind-ninja_8cpp.html#a24ff4b9325e293fbb2a4cb72d323c9b7" title="変わり身処理" alt="" coords="894,1643,967,1669"/>
<area shape="rect" href="monster-attack-player_8cpp.html#ac9adba580ceb0cedfd7450fa038b1a49" title=" " alt="" coords="432,1230,579,1271"/>
<area shape="rect" href="monster-attack-player_8cpp.html#a8676e4ca5747a1ddf4137530318b2c8b" title="モンスターからプレイヤーへの打撃処理本体" alt="" coords="627,401,789,428"/>
<area shape="rect" href="monster-info_8cpp.html#ad051474143ae51acf70bf275b30ff246" title=" " alt="" coords="1127,56,1204,83"/>
<area shape="rect" href="player-status-flags_8cpp.html#afe1c1e3a1fa53546c5573a5a091f9192" title=" " alt="" coords="1072,259,1259,285"/>
<area shape="rect" href="player-status-flags_8cpp.html#a7c7bc7aaa4ea1facc9bffef817ae15ef" title=" " alt="" coords="1307,221,1485,248"/>
<area shape="rect" href="player-status_8cpp.html#a71651ca05a739cebea95603a32776907" title="プレイヤーの現在開いている手の状態を返す" alt="" coords="1346,284,1446,311"/>
<area shape="rect" href="avatar_8cpp.html#aae4e2101b06ada3126964d726155f59b" title="対応する徳をプレイヤーがスロットに登録している場合に加減を行う。" alt="" coords="1356,921,1436,948"/>
<area shape="rect" href="disturbance_8cpp.html#abb571f41d3e333cf82ad7f01284f8d82" title=" " alt="" coords="1135,309,1196,336"/>
<area shape="rect" href="action-setter_8cpp.html#ad255d4488d697515c99975cc2f54f7b4" title="プレイヤーの継続行動処理" alt="" coords="1355,360,1437,387"/>
<area shape="rect" href="display-messages_8cpp.html#a826c4e655c4e825175fc7e78d22d6f8f" title="@briefOutput a message to the top line of the screen." alt="" coords="1583,1440,1661,1467"/>
<area shape="rect" href="player-status_8cpp.html#a421634c10fa887793e9a6f3a311e9bd4" title=" " alt="" coords="1584,233,1660,260"/>
<area shape="rect" href="player-attack_8cpp.html#a7a5d04133dc8285f590218cfa1f63780" title="プレイヤーの打撃処理サブルーチン / Player attacks a (poor, defenseless) creature &#45;RAK&#45;" alt="" coords="1092,969,1239,1010"/>
<area shape="rect" href="class_flag_group.html#af4b7c3b723ab2fcccc5ad80100c69f97" title="指定したフラグがONかOFFか調べる" alt="" coords="1567,989,1677,1016"/>
<area shape="rect" href="monster-status-setter_8cpp.html#abf6321fd027008211ec03df294378470" title="モンスターの睡眠状態値をセットする。0で起きる。 / Set &quot;m_ptr&#45;&gt;mtimed[MTIMED_CSLEEP]&quot;, notice observable changes" alt="" coords="1327,512,1465,539"/>
<area shape="rect" href="monster-status_8cpp.html#ab13b269031a5b7b139713c537bbfe706" title=" " alt="" coords="1533,399,1711,425"/>
<area shape="rect" href="asking-player_8cpp.html#aa4ba425d5e56a3b73b8b4fab36ae998f" title=" " alt="" coords="1124,563,1207,589"/>
<area shape="rect" href="class_flag_group.html#af6327bd9a9e463469a9aa5daaad3346a" title="入力イテレータで指定した範囲のリストに含まれるフラグがすべてOFFかどうかを調べる" alt="" coords="1084,613,1247,640"/>
<area shape="rect" href="stuff-handler_8cpp.html#ad491b75a9a598cb361c671e23737d1fb" title=" " alt="" coords="1119,664,1212,691"/>
<area shape="rect" href="player-status_8cpp.html#acf19de25dd53f8896f4260fd49b00e74" title=" " alt="" coords="1130,715,1201,741"/>
<area shape="rect" href="stuff-handler_8cpp.html#ab4c472d001cbdcb0c412ec4735b185d8" title=" " alt="" coords="1097,765,1234,792"/>
<area shape="rect" href="cmd-attack_8cpp.html#a2b837b0da3ae92adf4b5a3297132736b" title="攻撃コマンド処理" alt="" coords="1113,1085,1217,1112"/>
<area shape="rect" href="sound-of-music_8cpp.html#a43627249eb6a528399f807914b0aeaad" title="音を鳴らす" alt="" coords="1367,1035,1425,1061"/>
<area shape="rect" href="monster-attack-player_8cpp.html#ad9a9630bf73b38fc355e655aa6b5c55d" title="呪術「目には目を」の効果処理" alt="" coords="1112,1389,1219,1416"/>
<area shape="rect" href="mind-samurai_8cpp.html#aa2d1d23953fe1eb69ff6aef1ba627a7c" title="無想による反撃処理" alt="" coords="635,1237,781,1264"/>
<area shape="rect" href="spells-hex_8cpp.html#ae16fd08805f6a2bb34a1e913b8d68ad5" title="復讐ダメージの追加を行う" alt="" coords="657,1465,759,1492"/>
<area shape="rect" href="monster-attack-player_8cpp.html#a0fd0cd78ab6725b5c3593d09596c9b09" title=" " alt="" coords="660,1643,756,1669"/>
<area shape="rect" href="pet-fall-off_8cpp.html#aa35e86a6f8baccbadef0510adf4461a7" title="落馬処理" alt="" coords="1096,1339,1235,1365"/>
<area shape="rect" href="attack-accuracy_8cpp.html#a75ff213c456535e90a79aabbbf5cae8a" title="モンスター打撃の命中を判定する / Determine if a monster attack against the player succeeds." alt="" coords="849,375,1013,417"/>
<area shape="rect" href="monster-attack-player_8cpp.html#a0635db901e199fc3ed715a2327d767dc" title="プレーヤー死亡等でモンスターからプレーヤーへの直接攻撃処理を途中で打ち切るかどうかを判定する" alt="" coords="840,441,1021,482"/>
<area shape="rect" href="monster-attack-player_8cpp.html#a80c82b8eb6ed938f0b3d96208a032afa" title="モンスターの打撃情報を蓄積させる" alt="" coords="845,131,1016,157"/>
<area shape="rect" href="monster-status_8cpp.html#a694441eba404946ed80519bf51df10ca" title=" " alt="" coords="838,208,1023,235"/>
<area shape="rect" href="z-util_8cpp.html#add3ff125e6340e76d3c307ebaf757660" title=" " alt="" coords="907,259,954,285"/>
<area shape="rect" href="monster-attack-player_8cpp.html#a6eaee5f452406fa42a3b8a227b787bd6" title="一部の打撃種別の場合のみ、避けた旨のメッセージ表示と盾技能スキル向上を行う" alt="" coords="848,310,1013,351"/>
<area shape="rect" href="monster-attack-player_8cpp.html#a4c501e4155c9fe7c492e1c0fd4c61c3b" title="モンスターから直接攻撃を1回受けた時の処理" alt="" coords="837,507,1024,533"/>
</map>
</div>
<div class="dynheader">
被呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><img src="monster-attack-processor_8cpp_aa095f5ecccac0b28f47b8ddf95c88a54_icgraph.png" border="0" usemap="#amonster-attack-processor_8cpp_aa095f5ecccac0b28f47b8ddf95c88a54_icgraph" alt=""/></div>
<map name="amonster-attack-processor_8cpp_aa095f5ecccac0b28f47b8ddf95c88a54_icgraph" id="amonster-attack-processor_8cpp_aa095f5ecccac0b28f47b8ddf95c88a54_icgraph">
<area shape="rect" title="モンスターの攻撃に関する処理" alt="" coords="627,23,767,65"/>
<area shape="rect" href="monster-move_8cpp.html#ad952bf31a67518ea50735f5f724b866d" title="モンスターの移動に関するメインルーチン" alt="" coords="391,31,579,57"/>
<area shape="rect" href="monster-processor_8cpp.html#ae6e21e8e28cd96eb7bc76f452416588a" title="モンスター単体の1ターン行動処理メインルーチン / Process a monster" alt="" coords="220,31,343,57"/>
<area shape="rect" href="monster-status-setter_8cpp.html#a682fbdb6c220cc503b8c072b69548f5b" title="モンスターの時間停止処理" alt="" coords="13,5,165,32"/>
<area shape="rect" href="monster-processor_8cpp.html#a5a5170bbc427f3c8dfad442f40e2a11b" title="フロア内のモンスターについてターン終了時の処理を繰り返す" alt="" coords="5,56,172,83"/>
</map>
</div>

</div>
</div>
<a id="add2b2d9c11aa4bf6cd55e177af6bb934"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add2b2d9c11aa4bf6cd55e177af6bb934">&#9670;&nbsp;</a></span>process_monster_attack_to_monster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a> process_monster_attack_to_monster </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structplayer__type.html">player_type</a> *&#160;</td>
          <td class="paramname"><em>target_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structturn__flags.html">turn_flags</a> *&#160;</td>
          <td class="paramname"><em>turn_flags_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h-type_8h.html#ad2d0f988482931f676c919cf5d0f7716">MONSTER_IDX</a>&#160;</td>
          <td class="paramname"><em>m_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrid__type.html">grid_type</a> *&#160;</td>
          <td class="paramname"><em>g_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="h-type_8h.html#ad5c9d4ba3dc37783a528b0925dc981a0">bool</a>&#160;</td>
          <td class="paramname"><em>can_cross</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>モンスターからモンスターへの攻撃処理 </p>
<dl class="params"><dt>引数</dt><dd>
  <table class="params">
    <tr><td class="paramname">target_ptr</td><td>プレーヤーへの参照ポインタ </td></tr>
    <tr><td class="paramname">turn_flags_ptr</td><td>ターン経過処理フラグへの参照ポインタ </td></tr>
    <tr><td class="paramname">m_idx</td><td>モンスターID </td></tr>
    <tr><td class="paramname">g_ptr</td><td>グリッドへの参照ポインタ </td></tr>
    <tr><td class="paramname">can_cross</td><td>モンスターが地形を踏破できるならばTRUE </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>戻り値</dt><dd>ターン消費が発生したらTRUE </dd></dl>
<div class="dynheader">
呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><img src="monster-attack-processor_8cpp_add2b2d9c11aa4bf6cd55e177af6bb934_cgraph.png" border="0" usemap="#amonster-attack-processor_8cpp_add2b2d9c11aa4bf6cd55e177af6bb934_cgraph" alt=""/></div>
<map name="amonster-attack-processor_8cpp_add2b2d9c11aa4bf6cd55e177af6bb934_cgraph" id="amonster-attack-processor_8cpp_add2b2d9c11aa4bf6cd55e177af6bb934_cgraph">
<area shape="rect" title="モンスターからモンスターへの攻撃処理" alt="" coords="5,622,171,663"/>
<area shape="rect" href="monster-info_8cpp.html#a923e88d938d90100c5b241388a5183af" title="モンスターの属性の基づいた敵対関係の有無を返す Check if two monsters are enemies" alt="" coords="493,107,589,133"/>
<area shape="rect" href="monster-attack-processor_8cpp.html#a0aee1ff7b13583888878ac480e5b6afd" title="モンスターからモンスターへの直接攻撃を実行する" alt="" coords="238,563,378,605"/>
<area shape="rect" href="monster-status_8cpp.html#a43f06b6e21bda28d0bd4ba24b2ab8169" title=" " alt="" coords="445,629,636,656"/>
<area shape="rect" href="monster-info_8cpp.html#ad1cf762c40679d90def446efc53d4215" title="モンスターが地形を踏破できるかどうかを返す Check if monster can cross terrain" alt="" coords="219,680,397,707"/>
<area shape="rect" href="monster-status-setter_8cpp.html#abf6321fd027008211ec03df294378470" title="モンスターの睡眠状態値をセットする。0で起きる。 / Set &quot;m_ptr&#45;&gt;mtimed[MTIMED_CSLEEP]&quot;, notice observable changes" alt="" coords="239,731,377,757"/>
<area shape="rect" href="monster-info_8cpp.html#a073e460f5aae349ba48c690993b27211" title="モンスターの属性の基づいた敵対関係の有無を返す（サブルーチン） Check if this monster has &quot;hostile&quot; alignment (aux)" alt="" coords="698,5,834,32"/>
<area shape="rect" href="class_flag_group.html#ad4eec318a69d3e1a3a4be9169db1224d" title="指定したフラグがOFFかONか調べる" alt="" coords="910,56,1046,83"/>
<area shape="rect" href="monster-info_8cpp.html#ad051474143ae51acf70bf275b30ff246" title=" " alt="" coords="727,107,805,133"/>
<area shape="rect" href="monster-info_8cpp.html#aebc46d6af07e1e52621a83abf6eb4a62" title=" " alt="" coords="949,157,1007,184"/>
<area shape="rect" href="class_flag_group.html#af4b7c3b723ab2fcccc5ad80100c69f97" title="指定したフラグがONかOFFか調べる" alt="" coords="1108,132,1219,159"/>
<area shape="rect" href="monster-info_8cpp.html#a310dca2e8b756213922ce91ffff3dbd0" title=" " alt="" coords="938,107,1018,133"/>
<area shape="rect" href="monster-info_8cpp.html#aff808ee0286522b402650157e83d4ad9" title=" " alt="" coords="896,528,1060,555"/>
<area shape="rect" href="monster-attack-monster_8cpp.html#a42ec35a0659aa887eabe9976cf5f7e77" title="モンスターから敵モンスターへの打撃攻撃処理" alt="" coords="469,397,613,424"/>
<area shape="rect" href="monster-attack-monster_8cpp.html#ad653e022a8728810e2fd86cfe47f5cbe" title=" " alt="" coords="691,259,841,285"/>
<area shape="rect" href="disturbance_8cpp.html#abb571f41d3e333cf82ad7f01284f8d82" title=" " alt="" coords="735,309,797,336"/>
<area shape="rect" href="monster-attack-monster_8cpp.html#a7b13044e9b26eac26ca737d9927cfd19" title=" " alt="" coords="695,361,837,402"/>
<area shape="rect" href="melee-util_8cpp.html#a457e94672a81323dcb025895bad6e34f" title=" " alt="" coords="697,427,835,453"/>
<area shape="rect" href="monster-describer_8cpp.html#a14a84921133374dd6cd2b6ead8c1bc51" title="モンスターの呼称を作成する / Build a string describing a monster in some way." alt="" coords="714,208,818,235"/>
<area shape="rect" href="monster-attack-monster_8cpp.html#a44fa0c05c2f6b2f7e5ee32d34847472f" title="r_infoで定義した攻撃回数の分だけ、モンスターからモンスターへの直接攻撃処理を繰り返す" alt="" coords="716,477,816,504"/>
<area shape="rect" href="monster-attack-monster_8cpp.html#a24b70f13486473060f759cb97bb12012" title=" " alt="" coords="684,528,848,555"/>
</map>
</div>
<div class="dynheader">
被呼び出し関係図:</div>
<div class="dyncontent">
<div class="center"><img src="monster-attack-processor_8cpp_add2b2d9c11aa4bf6cd55e177af6bb934_icgraph.png" border="0" usemap="#amonster-attack-processor_8cpp_add2b2d9c11aa4bf6cd55e177af6bb934_icgraph" alt=""/></div>
<map name="amonster-attack-processor_8cpp_add2b2d9c11aa4bf6cd55e177af6bb934_icgraph" id="amonster-attack-processor_8cpp_add2b2d9c11aa4bf6cd55e177af6bb934_icgraph">
<area shape="rect" title="モンスターからモンスターへの攻撃処理" alt="" coords="627,23,792,65"/>
<area shape="rect" href="monster-move_8cpp.html#ad952bf31a67518ea50735f5f724b866d" title="モンスターの移動に関するメインルーチン" alt="" coords="391,31,579,57"/>
<area shape="rect" href="monster-processor_8cpp.html#ae6e21e8e28cd96eb7bc76f452416588a" title="モンスター単体の1ターン行動処理メインルーチン / Process a monster" alt="" coords="220,31,343,57"/>
<area shape="rect" href="monster-status-setter_8cpp.html#a682fbdb6c220cc503b8c072b69548f5b" title="モンスターの時間停止処理" alt="" coords="13,5,165,32"/>
<area shape="rect" href="monster-processor_8cpp.html#a5a5170bbc427f3c8dfad442f40e2a11b" title="フロア内のモンスターについてターン終了時の処理を繰り返す" alt="" coords="5,56,172,83"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
2021年04月13日(火) 19時55分01秒作成 - Bakabakaband / 構成: &#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
